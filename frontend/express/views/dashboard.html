<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
   ______                  __  __     
  / ____/___  __  ______  / /_/ /_  __
 / /   / __ \/ / / / __ \/ __/ / / / /
/ /___/ /_/ / /_/ / / / / /_/ / /_/ / 
\____/\____/\__,_/_/ /_/\__/_/\__, /  
              http://count.ly/____/   
-->
<html>
<head>
	<title>Countly</title> 
	<meta name="viewport" content="width=device-width, user-scalable=0, maximum-scale=1.0">
	<link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="/stylesheets/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/stylesheets/entypo/css/entypo.css" />
	<link rel="stylesheet" href="/javascripts/dom/tablesorter/style.css" />
	<link rel="stylesheet" href="/javascripts/dom/tipsy/tipsy.css" />
	<link rel="stylesheet" href="/javascripts/dom/jqueryui/jquery.ui.all.css" /> 
	<link rel="stylesheet" href="/stylesheets/main.css?<%= countlyVersion %>" />
    <link rel="stylesheet" href="/javascripts/visualization/rickshaw/rickshaw.min.css" />
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=DgZSIM690Yo8jTnefM8csihU"></script>        
    <script type="text/javascript" src="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/TextIconOverlay_min.js"></script>
	<script type="text/javascript" src="http://api.map.baidu.com/library/MarkerClusterer/1.2/src/MarkerClusterer_min.js"></script>
    <!-- <link rel="stylesheet" href="/stylesheets/bootstrap-cust/css/bootstrap.css"> -->
    <link rel="stylesheet" href="/stylesheets/bootstrap/css/bootstrap.css">  

    <!-- Custome CSS -->
<!--
    @font-face {
      font-family: 'Source Sans Pro';
      font-style: normal;
      font-weight: 200;
      src: local('Source Sans Pro ExtraLight'), local('SourceSansPro-ExtraLight'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v6/toadOcfmlt9b38dHJxOBGMa9awK0IKUjIWABZIchFI8.woff) format('woff');
    }
    @font-face {
      font-family: 'Source Sans Pro';
      font-style: normal;
      font-weight: 300;
      src: local('Source Sans Pro Light'), local('SourceSansPro-Light'), url(http://themes.googleusercontent.com/static/   fonts/sourcesanspro/v6/toadOcfmlt9b38dHJxOBGNbE_oMaV8t2eFeISPpzbdE.woff) format('woff');
    }
    @font-face {
      font-family: 'Source Sans Pro';
      font-style: normal;
      font-weight: 400;
      src: local('Source Sans Pro'), local('SourceSansPro-Regular'), url(http://themes.googleusercontent.com/static/fonts    /sourcesanspro/v6/ODelI1aHBYDBqgeIAH2zlBM0YzuT7MdOe03otPbuUS0.woff) format('woff');
    }
    @font-face {
      font-family: 'Source Sans Pro';
      font-style: normal;
      font-weight: 600;
      src: local('Source Sans Pro Semibold'), local('SourceSansPro-Semibold'), url(http://themes.googleusercontent.com/    static/fonts/sourcesanspro/v6/toadOcfmlt9b38dHJxOBGJ6-ys_j0H4QL65VLqzI3wI.woff) format('woff');
    }
    @font-face {
      font-family: 'Source Sans Pro';
      font-style: normal;
      font-weight: 700;
      src: local('Source Sans Pro Bold'), local('SourceSansPro-Bold'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v6/toadOcfmlt9b38dHJxOBGFkQc6VGVFSmCnC_l7QZG60.woff) format('woff');
    }
    @font-face {
      font-family: 'Source Sans Pro';
      font-style: normal;
      font-weight: 900;
      src: local('Source Sans Pro Black'), local('SourceSansPro-Black'), url(http://themes.googleusercontent.com/static/fonts/sourcesanspro/v6/toadOcfmlt9b38dHJxOBGHiec-hVyr2k4iOzEQsW1iE.woff) format('woff');
    }
-->

    <style type=text/css>
    
        #devicecfg_tabs .ui-state-active a { color: white; text-shadow: 2px 4px 3px rgba(0,0,0,0.3);}
		#devicecfg_tabs .ui-tabs-panel {
		background : white;
		border: 1px solid #aaaaaa;
		bottom: 0px;
		position: relative;
		top:-3px;
		min-height:160px;
		font-size:18px;
		}
		#deivcecfg_header
		{
			position: relative;
			top:10px;
			border: none;
		}
		#devicecfg_tabs { 
			position: absolute;
			top: 0px;
			margin: 0px;
			left:0px;
			right:0px;
			bottom: 0px;
			border: 1px solid #aaaaaa;
			height: 100%;
		}
		#devicecfg_tabs .ui-tabs .ui-tabs-nav li {
    		border: none;
    		margin: 0 0 -5px 0;
    		background : yellow;
		}
         #devicecfg_tabs ul.ui-widget-header, #devicecfg_tabs ul.ui-widget-content, #devicecfg_tabs ul.ui-state-default, #devicecfg_tabs ul.ui-state-hover {
             /*background: #e6e6e6;*/
             background: transparent;
             border: none;
             height: 42px;
             text-shadow:0 1px #fff;             
         }
		#devicecfg_tabs .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active
		{
    		/*background: #F7F7F7;*/
    		background: #43A947;
    		border:1px solid #43A947;
		}         
		#devicecfg_tabs .tabs-widget-header
		{font:19px Ubuntu,Helvetica,sans-serif; color:#636363; text-shadow:0 1px #F6F6F6; float:left;}

		#devicecfg_tabs .ui-corner-all, .ui-corner-top, .ui-corner-left, .ui-corner-tl { 
			-moz-border-radius-topleft:4px/*{cornerRadius}*/; 
			-webkit-border-top-left-radius: 4px/*{cornerRadius}*/; 
			-khtml-border-top-left-radius: 4px/*{cornerRadius}*/; 
			border-top-left-radius: 4px/*{cornerRadius}*/; }
	</style>

	<script><%- javascript %></script>
</head>
<body> 
	<div id="sidebar">
		<div id="new-install-overlay"></div>
		<div id="sidebar-top">
			<a href="#/"><div id="sidebar-logo"></div></a>
			<div id="sidebar-app-select" class="grid-border">
				<div class="logo" <% if (userOfApps[0]){ %>style="background-image:url('/appimages/<%= userOfApps[0]._id %>.png')"<% } %>></div>
				<div class="text"><% if (userOfApps[0]){ %><%= userOfApps[0].name %><% } %></div>
			</div>
		</div>
		<div id="sidebar-menu">
			<a href="#/" class="item active">
				<div class="logo dashboard"></div>
				<div class="text" data-localize="sidebar.dashboard"></div>
			</a>
			<a class="item" id="analytics-menu">
				<div class="logo analytics"></div>
				<div class="text" data-localize="sidebar.analytics"></div>
			</a>
			<div class="sidebar-submenu" id="analytics-submenu">
				<a href="#/analytics/users" class="item active">
					<div class="logo users"></div>
					<div class="text" data-localize="sidebar.analytics.users"></div>
				</a>
				<a href="#/analytics/sessions" class="item">
					<div class="logo sessions"></div>
					<div class="text" data-localize="sidebar.analytics.sessions"></div>
				</a>
				<a href="#/analytics/countries" class="item">
					<div class="logo country"></div>
					<div class="text" data-localize="sidebar.analytics.countries"></div>
				</a>
				<a href="#/analytics/devices" class="item">
					<div class="logo devices">
					</div>
					<div class="text" data-localize="sidebar.analytics.devices"></div>
				</a>
                <a href="#/analytics/resolutions" class="item">
					<div class="logo resolutions"></div>
                    <div class="text" data-localize="sidebar.analytics.resolutions"></div>
                </a>
				<a href="#/analytics/versions" class="item">
					<div class="logo app-versions"></div>
					<div class="text" data-localize="sidebar.analytics.app-versions"></div>
				</a>
				
				<a href="#/analytics/versions" class="item">
					<div class="logo app-versions"></div>
					<div class="text" data-localize="sidebar.analytics.test"></div>
				</a>
				<a href="#/analytics/carriers" class="item">
					<div class="logo carrier"></div>
					<div class="text" data-localize="sidebar.analytics.carriers"></div>
				</a>
				<a href="#/analytics/platforms" class="item">
					<div class="logo platforms"></div>
					<div class="text" data-localize="sidebar.analytics.platforms"></div>
				</a>
			</div>
			<!--
            <a class="item" id="engagement-menu">
                <div class="logo icon-magnet" style="background-image:none; font-size:28px; text-align:center; width:35px; margin-left:14px; line-height:44px;"></div>
                <div class="text" data-localize="sidebar.engagement"></div>
            </a>            
            <div class="sidebar-submenu" id="engagement-submenu">
                <a href="#/analytics/loyalty" class="item">
                    <div class="logo loyalty"></div>
                    <div class="text" data-localize="sidebar.analytics.user-loyalty"></div>
                </a>
                <a href="#/analytics/frequency" class="item">
                    <div class="logo frequency"></div>
                    <div class="text" data-localize="sidebar.analytics.session-frequency"></div>
                </a>
                <a href="#/analytics/durations" class="item">
                    <div class="logo durations"></div>
                    <div class="text" data-localize="sidebar.engagement.durations"></div>
                </a>
            </div>

            <a href="#/analytics/events" class="item" id="sidebar-events">
                <div class="logo events"></div>
                <div class="text" data-localize="sidebar.events"></div>
            </a>
            -->
	  <!-- Device Manager -->		   
			<a class="item" id="device-menu">
				<div class="logo devices"></div>
				<div class="text" data-localize="sidebar.devicemgr"></div>
			</a>
	   	
			<div class="sidebar-submenu" id="device-submenu">
				<a href="#/devicemgr/config" class="item active">
					<div class="logo devices"></div>
					<div class="text" data-localize="sidebar.devicemgr.config"></div>
				</a>
 			        <a href="#/devicemgr/autoconf" class="item active">
				          <div class="logo resolutions"></div>
				          <div class="text" data-localize="sidebar.devicemgr.autotemp"></div>
			       </a>
			</div>
			<% if(member['global_admin'] || adminOfApps.length) { %>
			<a class="item" id="management-menu">
                <!--<div class="logo icon-wrench" style="background-image:none; font-size:28px; text-align:center; padding-top:4px; width: 35px; margin-left: 14px;"></div>-->
				<div class="logo management"></div>
				<div class="text" data-localize="sidebar.management"></div>
			</a>
			<div class="sidebar-submenu" id="management-submenu">
				<a href="#/manage/apps" class="item active">
					<div class="logo applications"></div>
					<div class="text" data-localize="subnetwork.mgt"></div>
				</a>
				<!--
				<a href="#/manage/export" class="item">
					<div class="logo applications"></div>
					<div class="text" data-localize="">Export</div>
				</a>
				-->
				<% if(member['global_admin']) { %>
                <a href="#/manage/users" class="item">
					<div class="logo mgmt-users"></div>
					<div class="text" data-localize="sidebar.management.users"></div>
				</a>
				<% } %>
				<a class="item help-toggle disabled">
					<div class="logo help"></div>
					<div class="text" data-localize="sidebar.management.help"></div>
					<div id="help-toggle"></div>
				</a>
			</div>
			<% } %>
		</div>
		<div id="sidebar-bottom-container">
			<div class="menu">
				<a id="sidebar-countly-version">Countly <%= countlyVersion %></a>
				<a class="item" id="account-settings" data-localize="sidebar.settings"></a>
				<a class="item" id="user-logout" href="/logout" data-localize="sidebar.logout"></a>
			</div>
			<div id="language-menu">
				<div class="group">
					<a data-language-code="de" class="item">Deutsch</a>
					<a data-language-code="en" class="item">English</a>
					<a data-language-code="es" class="item">Español</a>
					<a data-language-code="fr" class="item">Français</a>
					<a data-language-code="it" class="item">Italiano</a>
                    <a data-language-code="nl" class="item">Nederlands</a>
				</div>
				<div class="group">
                    <a data-language-code="pt" class="item">Português</a>
                    <a data-language-code="ru" class="item">Русский язык</a>
					<a data-language-code="tr" class="item">Türkçe</a>
					<a data-language-code="zh" class="item">中文</a>
					<a data-language-code="ja" class="item">日本語</a>
				</div>
			</div>
			<div class="username" id="menu-username"><%= member['username'] %></div>
			<input id="user-api-key" type="hidden" value="<%= member['api_key'] %>" />
			<div class="reveal-language-menu">EN</div>
			<div class="reveal-menu"></div>
		</div>
	</div>
	<div id="app-nav">
		<div id="app-nav-head" class="grid-border">
			<div id="app-nav-title" style="max-width: 105px;" data-localize="subnetwork.title"></div>
			<div class="button-container grid-border">
				<% if(member['global_admin'] && adminOfApps.length > 1) { %>
				<div class="icon-button dark help-zone-vs grid-border" id="sort-app-button">
					<div class="icon grid-border"></div>
				</div>
				<% } %>
			</div>
		</div>
		<div class="apps-scrollable">
			<% for (var i = 0; i < userOfApps.length; i++) { %>
				<div class="app-container app-navigate grid-border" data-key="<%= userOfApps[i].key %>" data-id="<%= userOfApps[i]['_id'] %>">
					<div class="logo" style="background-image: url('/appimages/<%= userOfApps[i]['_id'] %>.png');"><span class="name" > <%= userOfApps[i].name %> </span></div>
					<div class="drag"></div>
				</div>
			<% } %>
		</div>
		<div id="sidebar-new-app">
			<div class="app-container app-navigate">
				<div class="logo"></div>
				<div class="name"></div>
				<div class="drag"></div>
			</div>
		</div>
	</div>
	<div></div>
	<div id="overlay"></div>
	<div id="cly-popup" class="dialog black">
		<div class="indicator"></div>
		<div class="content"></div>
	</div>
	<div id="cly-alert" class="dialog">
		<div class="indicator"></div>
		<div class="message"></div>
		<div class="buttons">
				<a id="dialog-ok" class="icon-button light" data-localize="common.ok"></a>
		</div>
	</div>
	<div id="cly-confirm" class="dialog">
		<div class="indicator"></div>
		<div class="message"></div>
		<div class="buttons">
				<a id="dialog-continue" class="icon-button light" data-localize="common.continue"></a>
				<a id="dialog-cancel" class="icon-button light" data-localize="common.cancel"></a>
		</div>
	</div>
	<div id="edit-account-details">
		<div class="message">
			<div>
				<div class="title" data-localize="user-settings.username"></div>
				<div class="input"><input id="username" type="text" value=""/></div>
			</div>
			<div style="margin-top:15px;">
				<div class="title" data-localize="user-settings.change-password"></div>
				<div class="input">
					<div><input id="old_pwd" type="password" placeholder="Old password..." data-localize="placeholder.old-password"/></div>
					<div style="margin-top:10px;"><input id="new_pwd" type="password" placeholder="New password..." data-localize="placeholder.new-password"/></div>
					<div style="margin-top:5px;"><input id="re_new_pwd" type="password" placeholder="Again..." data-localize="placeholder.again"/></div>
				</div>
			</div>
			<div style="margin-top:15px;">
				<div class="title" data-localize="user-settings.api-key"></div>
				<div class="input"><input id="api-key" type="text" readonly="readonly" value=""/></div>
			</div>
		</div>
		<div class="buttons">
			<div id="settings-save-result" class="result-message"></div>
			<a id="save-account-details" class="icon-button light" data-localize="common.save"></a>
			<a id="dialog-cancel" class="icon-button light" data-localize="common.close"></a>
		</div>
	</div>
    <div id="content-container">
        <div id="content-top"></div>
        <div id="content">
            <div id="content-loader"></div>
        </div>
    </div>

    <script id="template-date-selector" type="text/x-handlebars-template">
		<div id="date-selector" class="help-zone-vs">
			<div class="calendar" id="date-picker-button"></div>
			<div id="date-picker">
				<div class="tip"></div>
				<div class="calendar-container">
					<div id="date-from" class="calendar"></div>
					<div id="date-to" class="calendar"></div>
				</div>
				<div class="button-container">
					<div id="date-submit" style="float:right;" class="cly-button-dark" data-localize="common.apply"></div>
				</div>
			</div>
			<div class="button date-selector" id="month"></div>
			<div class="button date-selector" id="day"></div>
            <div class="button date-selector" id="yesterday"></div>
			<div class="button date-selector" id="hour" data-localize="common.today"></div>
			<div class="button date-selector" id="7days" data-localize="common.7days"></div>
			<div class="button date-selector" id="30days" data-localize="common.30days"></div>
			<div class="button date-selector" id="60days" data-localize="common.60days"></div>
			<!--<div class="button date-selector" id="90days" data-localize="common.90days"></div>-->
		</div>
	</script>

	<script id="template-app-categories" type="text/x-handlebars-template">
		<div data-value="1" class="item" data-localize="application-category.books"></div>
		<div data-value="2" class="item" data-localize="application-category.business"></div>
		<div data-value="3" class="item" data-localize="application-category.education"></div>
		<div data-value="4" class="item" data-localize="application-category.entertainment"></div>
		<div data-value="5" class="item" data-localize="application-category.finance"></div>
		<div data-value="6" class="item" data-localize="application-category.games"></div>
		<div data-value="7" class="item" data-localize="application-category.health-fitness"></div>
		<div data-value="8" class="item" data-localize="application-category.lifestyle"></div>
		<div data-value="9" class="item" data-localize="application-category.medical"></div>
		<div data-value="10" class="item" data-localize="application-category.music"></div>
		<div data-value="11" class="item" data-localize="application-category.navigation"></div>
		<div data-value="12" class="item" data-localize="application-category.news"></div>
		<div data-value="13" class="item" data-localize="application-category.photography"></div>
		<div data-value="14" class="item" data-localize="application-category.productivity"></div>
		<div data-value="15" class="item" data-localize="application-category.reference"></div>
		<div data-value="16" class="item" data-localize="application-category.social-networking"></div>
		<div data-value="17" class="item" data-localize="application-category.sports"></div>
		<div data-value="18" class="item" data-localize="application-category.travel"></div>
		<div data-value="19" class="item" data-localize="application-category.utilities"></div>
		<div data-value="20" class="item" data-localize="application-category.weather"></div>
	</script>

	<script id="template-condition-categories" type="text/x-handlebars-template">
		<div data-value="1" class="item" data-localize="">序列号</div>
		<div data-value="2" class="item" data-localize="">子网ID</div>
		<div data-value="3" class="item" data-localize="">MAC地址</div>
	</script>

	<script id="template-compare-categories" type="text/x-handlebars-template">
		<div data-value="1" class="item" data-localize="">">"</div>
		<div data-value="2" class="item" data-localize="">"="</div>
		<div data-value="3" class="item" data-localize="">"<"</div>
	</script>	

	<script id="template-mode-categories" type="text/x-handlebars-template">
		<div data-value="1" class="item" data-localize="">802.11 b</div>
		<div data-value="2" class="item" data-localize="">802.11 g</div>
		<div data-value="3" class="item" data-localize="">802.11 n</div>
		<div data-value="4" class="item" data-localize="">802.11 b/g/n</div>
	</script>

	<script id="template-channel-categories" type="text/x-handlebars-template">
		<div data-value="1" class="item" data-localize="">Channel 1</div>
		<div data-value="2" class="item" data-localize="">Channel 2</div>
		<div data-value="3" class="item" data-localize="">Channel 3</div>
		<div data-value="4" class="item" data-localize="">Channel 4</div>
		<div data-value="5" class="item" data-localize="">Channel 5</div>
		<div data-value="6" class="item" data-localize="">Channel 6</div>
		<div data-value="7" class="item" data-localize="">Channel 7</div>
		<div data-value="8" class="item" data-localize="">Channel 8</div>
		<div data-value="9" class="item" data-localize="">Channel 9</div>
		<div data-value="10" class="item" data-localize="">Channel 10</div>						
	</script>

	<script id="template-analytics-common"  type="text/x-handlebars-template">
		<div class="widget">
			<div class="widget-header">
				<div class="left">
					<div class="logo {{logo-class}}"></div>
					<div class="title">{{page-title}}</div>
				</div>
				{{> date-selector }}
			</div>
			<div class="widget-content help-zone-vb" data-help-localize="{{{chart-helper}}}" style="{{#if graph-type-double-pie}} overflow:hidden; {{else}} height:300px; padding-top:20px; padding-bottom:10px; {{/if}}">
				{{#if graph-type-double-pie}}
				<div class="pie-chart-container">
					<div style="border-right:1px solid #CCC;">
						<div class="pie-overlay one {{logo-class}}">
							<div class="title">{{pie-titles.left}}</div>
						</div>
						<div id="dashboard-graph" class="graph" style="margin:0 auto; height:360px; font-family:'Ubuntu';"></div>
					</div>
				</div>
				<div class="pie-chart-container">
					<div class="graph-segment-container">
					{{#if graph-segmentation}}
                        <div class="cly-button-group">
                            {{#each graph-segmentation}}
                            <div class="icon-button light graph-segment" data-name="{{this.name}}">
                                <div class="os-segment {{this.class}}"></div>
                            </div>
                            {{/each}}
                        </div>
					{{/if}}
					</div>
					<div class="pie-overlay two {{logo-class}}">
						<div class="title">{{pie-titles.right}}</div>
					</div>
					<div id="dashboard-graph2" class="graph" style="margin:0 auto; height:360px; font-family:'Ubuntu';"></div>
				</div>
				{{else}}
				<div id="dashboard-graph" class="graph" style="height:100%; margin-left:-10px;"></div>
				{{/if}}
			</div>
			{{#if big-numbers}}
			<div class="widget-footer" style="background-color:#EEEEEE;">
				<div id="big-numbers-container">
					{{#each big-numbers.items}}
					<div class="big-numbers three-column help-zone-vs" data-help-localize="{{this.help}}">
						<div class="inner">
							<div class="select">{{this.title}}</div>
							<div class="color"></div>
							<div class="number">{{getFormattedNumber this.total}}</div>
							<div class="trend" style="background-image:url('/images/dashboard/{{this.trend}}trend.png');"></div>
						</div>
					</div>
					{{/each}}
				</div>
			</div>
			{{/if}}
		</div>
		{{#if bars}}
		<div class="dashboard-summary three">
			{{#each bars}}
			<div class="item help-zone-vs" data-help-localize="{{this.help}}">
				<div class="inner">
					<div class="title">{{this.title}}</div>
					{{#if this.data}}
					<div class="bar">
						{{#each this.data}}
							<div class="bar-inner" style="width:{{this.percent}}%;" data-item="{{this.name}}"></div>
						{{/each}}
					</div>
					<div class="number" data-item="{{this.data.0.name}}">{{this.data.0.name}}</div>
					{{else}}
					<div class="no-data" data-localize="common.bar.no-data"></div>
					{{/if}}
				</div>
			</div>
			{{/each}}
		</div>
		{{/if}}
		<table class="d-table sortable help-zone-vb" cellpadding="0" cellspacing="0" data-help-localize="{{{table-helper}}}">
			<thead>
			<tr>
				{{#eachOfArray chart-data.columns}}
				<th>{{value}}</th>
				{{/eachOfArray}}
			</tr>
			</thead>
			<tbody>
				{{#if chart-data.rows}}
				{{#each chart-data.rows}}
				<tr>
					{{#eachOfObject this}}
						<td>{{{getFormattedNumber value}}}</td>
					{{/eachOfObject }}
				</tr>
				{{/each}}
				{{else}}
				<tr>
					<td colspan="{{chart-data.columnCount}}" class="table-no-data" data-localize="common.table.no-data"></td>
				</tr>
				{{/if}}
			</tbody>
		</table>
		{{#if chart-data2}}
		<table class="d-table sortable" cellpadding="0" cellspacing="0">
			<thead>
			<tr>
				{{#eachOfArray chart-data2.columns}}
				<th style="width:25%">{{value}}</th>
				{{/eachOfArray}}
			</tr>
			</thead>
			<tbody>
				{{#if chart-data2.rows}}
				{{#each chart-data2.rows}}
				<tr>
					{{#eachOfObject this}}
						<td>{{getFormattedNumber value}}</td>
					{{/eachOfObject }}
				</tr>
				{{/each}}
				{{else}}
				<tr>
					<td colspan="{{chart-data2.columnCount}}" class="table-no-data" data-localize="common.table.no-data"></td>
				</tr>
				{{/if}}
			</tbody>
		</table>
		{{/if}}
	</script>

	<script id="template-analytics-countries"  type="text/x-handlebars-template">
		<div class="widget">
			<div class="widget-header">
				<div class="left">
					<div class="logo {{logo-class}}"></div>
					<div class="title">{{page-title}}</div>
				</div>
				{{> date-selector }}
			</div>
			<div class="widget-content help-zone-vb" data-help-localize="{{{chart-helper}}}" style="height:495px; background-color:#FFF;">
				<div style="position:absolute; top:80px; right:30px; z-index:1;">
					<a id="toggle-map" class="icon-button light"></a>
				</div>
				<div id="geo-chart-outer"><div id="geo-chart" style="margin:0 auto; padding:20px;"></div></div>
			</div>
			<div class="widget-footer" style="background-color:#EEEEEE;">
				<div id="big-numbers-container">
					{{#each big-numbers.items}}
					<div class="big-numbers three-column help-zone-vs" data-help-localize="{{this.help}}">
						<div class="inner">
							<div class="select">{{this.title}}</div>
							<div class="number" style="margin-top: 10px;">{{getFormattedNumber this.total}}</div>
							<div class="trend" style="background-image:url('/images/dashboard/{{this.trend}}trend.png');"></div>
						</div>
					</div>
					{{/each}}
				</div>
			</div>
		</div>
		<table class="d-table sortable help-zone-vb" cellpadding="0" cellspacing="0" data-help-localize="{{{table-helper}}}">
			<thead>
			<tr>
				{{#eachOfArray chart-data.columns}}
				<th style="width:25%">{{value}}</th>
				{{/eachOfArray}}
			</tr>
			</thead>
			<tbody>
				{{#if chart-data.rows}}
				{{#each chart-data.rows}}
				<tr>
					<td>
						{{#if this.code}}
							<div class="flag" style="background-image:url('/images/flags/{{this.code}}.png');"></div>
						{{/if}}
						{{this.country}}
					</td>
					<td>{{getFormattedNumber this.t}}</td>
					<td>{{getFormattedNumber this.u}}</td>
					<td>{{getFormattedNumber this.n}}</td>
				</tr>
				{{/each}}
				{{else}}
				<tr>
					<td colspan="{{chart-data.columnCount}}" class="table-no-data" data-localize="common.table.no-data"></td>
				</tr>
				{{/if}}
			</tbody>
		</table>
    </script>

	<script id="dashboard-template" type="text/x-handlebars-template">
		<div class="widget">
			<div class="widget-header">
				<div class="title" style="letter-spacing:-1px; font-size:19px; margin-top:10px; margin-left:5px;">{{toUpperCase page-title}}</div>
				{{> date-selector }}
			</div>
			<div class="widget-content" style="border:none;">
				<div id="big-numbers-container" class="dashboard">
					{{#each usage}}
					<div class="big-numbers six-column help-zone-vs" data-help-localize="{{this.help}}">
						<div class="inner">
							<div class="logo"></div>
							<div class="number">
                                {{getShortNumber this.data.total}}
                                {{#if this.data.isEstimate}}
                                    <span id="total-user-estimate-ind"><i class="icon-asterisk"></i></span>
                                    <div id="total-user-estimate-exp" style="display:none;">
                                        <div style="line-height:20px;">
                                            Total (unique) user count for this period is estimated and corrected using the biggest time buckets from available daily, weekly and monthly stats.<br/><br/>
                                            Exact total user counts are available for this year, month and day.
                                        </div>
                                    </div>
                                {{/if}}
                            </div>
							<div class="trend" style="background-image:url('/images/dashboard/{{this.data.trend}}trend.png');">
								<div class="change">{{this.data.change}}</div>
							</div>
							<div class="spark"><span class="{{this.data.trend}}sparkline">{{this.data.sparkline}}</span></div>
							<div class="select" id="{{this.id}}">
								<div class="title">{{this.title}}</div>
							</div>
							<div class="arrow"></div>
						</div>
					</div>
					{{/each}}
				</div>
			</div>
			<div class="widget-footer" style="height:220px; padding-top:20px; padding-bottom:10px; overflow:visible; box-shadow:none;">
				<div id="dashboard-graph" class="graph" style="height:100%; margin-left:-10px;"></div>
			</div>
		</div>
		<div class="dashboard-summary">
			{{#each bars}}
			<div class="item help-zone-vs" data-help-localize="{{this.help}}">
				<div class="inner">
					<div class="title">{{this.title}}</div>
					{{#if this.data}}
					<div class="bar">
						{{#each this.data}}
							<div class="bar-inner" style="width:{{this.percent}}%;" data-item="{{this.name}}"></div>
						{{/each}}
					</div>
					<div class="number" data-item="{{this.data.0.name}}">{{this.data.0.name}}</div>
					{{else}}
					<div class="no-data" data-localize="common.bar.no-data"></div>
					{{/if}}
				</div>
			</div>
			{{/each}}
		</div>
		<div class="widget map-list help-zone-vb" data-help-localize="dashboard.map" style="float:right; width:100%;">
			{{#if country-data}}
			<div id="map-list-right" style="max-height:236px; overflow:hidden;">
				<div>
					{{#each country-data}}
					<div class="map-list-item">
						<div class="flag" style="background-image:url('/images/flags/{{this.code}}.png');"></div>
						<div class="country-name">{{this.country}}</div>
						<div class="total">{{getShortNumber this.t}}</div>
					</div>
					{{/each}}
				</div>
			</div>
			{{/if}}
			<div id="geo-chart-outer" style="padding-bottom: 8px;"><div id="geo-chart" {{#if country-data}}style="margin-right:282px;"{{/if}}></div></div>
		</div>


	</script>

	<script id="template-management-applications" type="text/x-handlebars-template">
		<div id="app-management-bar">
			<div id="app-nav-head" class="grid-border">
				<div id="dev-nav-title" class="grid-border" data-localize="subnetwork.title"></div>
				<% if(member['global_admin']) { %>
				<div style="overflow:hidden; position:absolute; top:19px; right:10px;">
					<div class="icon-button dark help-zone- vs" data-help-localize="manage-apps.app-add-button" id="add-app-button">
						<div class="icon" style="background-image:url('/images/management/add.png'); width:17px; height:18px;"></div>
						<div class="text" data-localize="common.add"></div>
					</div>
				</div>
				<% } %>
			</div>

			<div class="scrollable grid-border">
				{{#eachOfObjectValue admin_apps}}
				<div class="app-container grid-border" data-key="{{this.key}}" data-id="{{this._id}}">
					<div class="logo" style="background-image: url('/appimages/{{this._id}}.png');">
						<span class="name">{{this.name}}</span>
					</div>					
				</div>
				{{/eachOfObjectValue}}
			</div>

			<div id="manage-new-app" class="grid-border">
				<div class="app-container grid-border">
					<div class="logo"></div>
					<div class="name" data-localize="management-applications.my-new-app"></div>
					<span class="name">{{this.name}}</span>
				</div>
			</div>
		</div>
		<div class="widget" style="margin-left:187px;">
			<div id="add-new-app">
				<div class="widget-header">
					<div class="left">
						<div class="title new-app-name" data-localize="subnetwork.new_net"></div>
					</div>
				</div>
				<div>
					<table class="d-table horizontal" cellpadding="0" cellspacing="0">
						<tbody>
							<tr class="help-zone-vs" data-help-localize="subnetwork.name">
								<td data-localize="subnetwork.name"></td>
								<td>
									<input type="text" value="" placeholder="Enter application name..." data-localize="placeholder.app-name" id="app-add-name">
								</td>
							</tr>
							<tr class="help-zone-vs" data-help-localize="subnetwork.category">
								<td data-localize="subnetwork.category"></td>
								<td>
									<div class="cly-select" style="width:280px;">
										<div class="select-inner">
											<div class="text-container">
												<div class="text" id="app-add-category" data-localize="management-applications.category.tip"></div>
											</div>
											<div class="right combo"></div>
										</div>
										<div class="select-items square" style="width:280px;">
											<div class="scrollable">
												{{> app-categories }}
											</div>
										</div>
									</div>
								</td>
							</tr>
							{{!--
							<tr class="help-zone-vs" data-help-localize="manage-apps.app-timezone">
								<td data-localize="management-applications.time-zone"></td>
								<td id="app-add-timezone" >
									<div style="float:left;">
										<div id="country-select" class="cly-select" style="width:280px;">
											<div class="select-inner">
												<div class="text-container">
													<div class="text"></div>
												</div>
												<div class="right combo"></div>
											</div>
											<div class="select-items square" style="width:280px;">
												<div id="country-items" class="scrollable"></div>
											</div>
										</div>
										<div id="timezone-select" class="cly-select" style="width:200px; display:none;">
											<div class="select-inner">
												<div class="text-container">
													<div class="text"></div>
												</div>
												<div class="right combo"></div>
											</div>
											<div class="select-items square" style="width:200px;">
												<div id="timezone-items" class="scrollable"></div>
											</div>
										</div>
									</div>
									<div id="selected" style="float:left; font-size:14px; padding:5px 10px; padding-top:6px; color:#666; font-family:'Ubuntu';"></div>
									<input type="hidden" value="" id="app-timezone"/>
									<input type="hidden" value="" id="app-country"/>
								</td>
							</tr>
							--}}
                            <tr class="help-zone-vs" data-help-localize="subentwork.icon">
								<td data-localize="subnetwork.icon"></td>
								<td>
									<form action="/apps/icon" enctype="multipart/form-data" id="add-app-image-form" method="post">
										<input type="file" id="app_image" name="app_image" />
										<input type="hidden" id="app_image_id" name="app_image_id" />
									</form>
								</td>
							</tr>
							<tr class="table-add">
								<td colspan="2">
									<a id="save-app-add" class="icon-button light" data-localize="management-applications.add-application"></a>
									<a id="cancel-app-add" class="icon-button light" data-localize="common.cancel"></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>




			</div>
			<div id="view-app">
				<div class="widget-header">
					<div class="left">
						<div class="title"></div>
					</div>
					<div style="float:right; min-width:260px; overflow:hidden; margin-top:6px;">
                        <div style="float:right;" class="icon-button light help-zone-vs" data-help-localize="manage-apps.app-edit-button" id="edit-app">
                            <div class="icon" style="background-image:url('/images/management/edit.png'); width:22px; height:19px;"></div>
                            <div class="text" data-localize="common.edit"></div>
                        </div>
						<div style="float:right;" class="icon-button delete-app help-zone-vs" data-help-localize="manage-apps.app-clear-button" id="clear-app-data">
							<div class="icon" style="width:0px; height:19px; margin-right:0px;"></div>
							<div class="text" data-localize="management-applications.clear-data"></div>
						</div>
						<div style="display:none; float:right;" class="icon-button delete-app help-zone-vs" data-help-localize="manage-apps.app-delete-button" id="delete-app">
                            <div class="icon" style="width:0px; height:19px; margin-right:0px;"></div>
                            <div class="text" data-localize="common.delete"></div>
                        </div>
					</div>
				</div>
				<div class="app-details">
					<input type="hidden" id="app-edit-id"/>
					<table class="d-table horizontal" cellpadding="0" cellspacing="0">
						<tbody>
                            <tr class="help-zone-vs" data-help-localize="subnetwork.id">
                                <td data-localize="subnetwork.id"></td>
                                <td id="view-app-id"></td>
                            </tr>
							<tr class="help-zone-vs" data-help-localize="subnetwork.name">
								<td data-localize="subnetwork.name"></td>
								<td id="app-edit-name">
									<div class="read"></div>
									<div class="edit">
										<input type="text" value="">
									</div>
								</td>
							</tr>
							<tr class="help-zone-vs" data-help-localize="manage-apps.app-category">
								<td data-localize="subnetwork.category"></td>
								<td id="app-edit-category">
									<div class="read"></div>
									<div class="edit">
										<div class="cly-select">
											<div class="select-inner">
												<div class="text-container">
													<div class="text"></div>
												</div>
												<div class="right combo"></div>
											</div>
											<div class="select-items square">
												<div class="scrollable">
													{{> app-categories }}
												</div>
											</div>
										</div>
									</div>
								</td>
							</tr>
							{{!--
							<tr class="help-zone-vs" data-help-localize="manage-apps.app-key">
								<td data-localize="management-applications.app-key"></td>
								<td id="view-app-key"></td>
							</tr>
							--}}
							<tr class="help-zone-vs" data-help-localize="manage-apps.app-timezone">
								<td data-localize="subnetwork.zone"></td>
								<td id="app-edit-timezone">
									<div class="read">
											<div class="flag"></div>
											<div class="country"></div>
											<div class="timezone"></div>
									</div>
									<div class="edit">
										<div style="float:left;">
											<div id="country-select" class="cly-select" style="width:280px;">
												<div class="select-inner">
													<div class="text-container">
														<div class="text"></div>
													</div>
													<div class="right combo"></div>
												</div>
												<div class="select-items square" style="width:280px;">
													<div id="country-items" class="scrollable"></div>
												</div>
											</div>
											<div id="timezone-select" class="cly-select" style="width:200px; display:none;">
												<div class="select-inner">
													<div class="text-container">
														<div class="text"></div>
													</div>
													<div class="right combo"></div>
												</div>
												<div class="select-items square" style="width:200px;">
													<div id="timezone-items" class="scrollable">

													</div>
												</div>
											</div>
										</div>
										<div id="selected" style="float:left; font-size:14px; padding:5px 10px; padding-top:6px; color:#666; font-family:'Ubuntu';"></div>
										<input type="hidden" value="" id="app-timezone"/>
										<input type="hidden" value="" id="app-country"/>
                                    </div>
                                </td>
                            </tr>
							<tr class="table-edit-prev help-zone-vs" data-help-localize="manage-apps.app-icon">
								<td data-localize="management-applications.icon"></td>
								<td id="app-edit-image">
									<div class="read">
										<div class="logo"></div>
									</div>
									<div class="edit">
										<form action="/apps/icon" enctype="multipart/form-data" id="add-edit-image-form" method="post">
											<input type="file" id="app_image" name="app_image" />
											<input type="hidden" id="app_image_id" name="app_image_id" />
										</form>
									</div>
								</td>
							</tr>
							<tr class="table-edit">
								<td colspan="2">
									<a id="save-app-edit" class="icon-button light" data-localize="common.save-changes"></a>
									<a id="cancel-app-edit" class="icon-button light" data-localize="common.cancel"></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div style="float:right;">
					<a target="blank" href="http://count.ly/resources/source/download-sdk" style="margin-right:14px;" class="icon-button light"><i class="icon-mobile-phone"></i> Countly SDKs</a>
				</div>
			</div>

		     	<div class="widget-header">
		     		<div class="left">
		     			<div class="title" data-localize="sidebar.devicemgr.topo"></div>
		     		</div>

		     		<input type="text" value="" placeholder="请输入查询地址..." id="subnet-geo-input" style="position:relative; left:150px;width:420px;margin-top:6px;">

		     		<div style="float:right; overflow:hidden; margin-top:3px;right:10px;left:0px;">		
		     			    <div class="icon-button light" id="map-search-btn" style="position:relative;left:0px;" >
		     			    	<div class="icon" style="width:0px; height:15px; margin-right:0px;"></div>
		     			    	<div class="text">搜索</div>
		     			    </div>     			    
		     		</div>
		     	</div>

		     	<div id="network-map-new" class="widget-content help-zone-vb" data-help-localize="{{{chart-helper}}}" style="height:495px; width:100%; background-color:#FFF;">
		     		<div style="position:absolute; top:80px; right:30px; z-index:1;">
		     			<a id="toggle-map" class="icon-button light"></a>
		     		</div>
		     		<div id="geo-chart-outer">
		     			<div id="geo-chart" style="margin:0 auto; padding:20px;"></div>
		     		</div>

		     	</div>	
			</div>
			<div id="no-app-warning" class="alert danger" data-localize="management-applications.no-app-warning"></div>
			<div id="first-app-success" class="alert success" data-localize="management-applications.first-app-message2"></div>
		</div>
	</script>

	<script id="template-management-export"  type="text/x-handlebars-template">
		<div class="widget">
			<div class="widget-header">
				<div class="left">
					<div class="title">{{app_name}}</div>
				</div>
				<div style="float:right; overflow:hidden; margin-top:6px;">
					<div class="icon-button light" id="export-select-all">
						<div class="icon" style="width:0px; height:19px; margin-right:0px;"></div>
						<div class="text">Select all</div>
					</div>
					<div class="icon-button light" id="export-deselect-all" style="display:none;">
						<div class="icon" style="width:0px; height:19px; margin-right:0px;"></div>
						<div class="text">Deselect all</div>
					</div>
					<div class="icon-button light create-report" id="create-report">
						<div class="icon" style="background-image:url('/images/reports/pdf_icon.png'); width:18px; height:19px;"></div>
						<div class="text">Export</div>
					</div>
				</div>
			</div>
			<div class="widget-content">
				<div class="export-description">
					Select items to export. Event name / segmentation indicates that only event data for the given segmentation will be exported.
				</div>
				<div id="export-checkbox-container">
					{{#eachOfArray events}}
					<div class="export-checkbox" data-key="{{value.key}}">
						<div class="option">
							<div class="checkbox"></div>
							<div class="text">{{value.name}}</div>
						</div>
					</div>
					{{/eachOfArray}}
					<span class="stretch"></span>
				</div>
			</div>
		</div>
		<div class="widget">
			<div class="widget-header">
				<div class="left">
					<div class="title">EXPORT HISTORY</div>
				</div>
			</div>
			<div class="widget-content"></div>
		</div>
		{{#eachOfArray exports}}
		<div>{{value.date}}</div>
		{{/eachOfArray}}
	</script>

	<script id="template-events"  type="text/x-handlebars-template">
		<div id="event-nav">
			<div id="event-nav-head">
				<div id="event-nav-title" style="max-width: 120px;" data-localize="events.title"></div>
				<div style="overflow:hidden; position:absolute; top:18px; right:10px;">
					<div class="icon-button dark help-zone-vs" id="edit-events-button" style="<% if(!member['global_admin']) { %> display:none; <% } %> padding: 4px 5px;">
						<div class="icon"></div>
					</div>
				</div>
			</div>
			<div class="scrollable">
				{{#eachOfArray events}}
				<div class="event-container {{#if value.is_active}}active{{/if}}" data-key="{{value.key}}">
					<div class="name">{{value.name}}</div>
				</div>
				{{/eachOfArray}}
			</div>
		</div>
		<div id="edit-event-container" style="display:none;">
			<div id="edit-event-table-container">
                <table class="events-table" cellpadding="0" cellspacing="0">
                    <thead>
                    <tr>
                        <th></th>
                        <th></th>
                        <th data-localize="events.edit.event-key"></th>
                        <th data-localize="events.edit.event-name"></th>
                        <th data-localize="events.table.count"></th>
                        <th data-localize="events.table.sum"></th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#eachOfObjectValue event-map}}
                    <tr>
                        <td style="text-align:center;"><i class="icon-reorder event-order"></i></td>
                        <td style="text-align:center;"><i class="icon-trash delete-event" data-event-key="{{this.key}}"></i></td>
                        <td class="event-key">{{this.key}}</td>
                        <td><input class="event-name" type="text" placeholder="Event name"  data-localize="events.edit.event-name" value="{{this.name}}"/></td>
                        <td><input class="event-count" type="text" placeholder="Count" data-localize="events.table.count" value="{{this.count}}"/></td>
                        <td><input class="event-sum" type="text" placeholder="Sum" data-localize="events.table.sum" value="{{this.sum}}"/></td>
                    </tr>
                    {{/eachOfObjectValue}}
                    </tbody>
                </table>
			</div>
			<div class="buttons">
				<div id="settings-save-result" class="result-message"></div>
				<a id="events-save" class="icon-button dark" data-localize="common.save"></a>
				<a id="dialog-cancel" class="icon-button dark" data-localize="common.close"></a>
			</div>
		</div>
		<div style="margin-left:187px;">
		<div class="widget">
			<div class="widget-header">
				<div class="left">
					<div id="event-update-area">
						<div class="title">{{page-title}}</div>
						<div class="event-segmentation">
							{{#if segmentations}}
							<div class="cly-select" style="width:220px;">
								<div class="select-inner">
									<div class="text-container">
										<div class="text">{{active-segmentation}}</div>
									</div>
									<div class="right combo"></div>
								</div>
								<div class="select-items square" style="width:220px;">
									<div class="scrollable">
										<div data-value="" class="segmentation-option item" data-localize="events.no-segmentation"></div>
										{{#eachOfArray segmentations}}
										<div data-value="{{value}}" class="segmentation-option item">{{value}}</div>
										{{/eachOfArray}}
									</div>
								</div>
							</div>
							{{/if}}
						</div>
					</div>
				</div>
				<div style="position:absolute; right:8px;">
				{{> date-selector }}
				</div>
			</div>
			<div class="widget-content" style="{{#if graph-type-double-pie}} overflow:hidden; {{else}} height:300px; padding-top:20px; padding-bottom:10px; {{/if}}">
				{{#if graph-type-double-pie}}
				<div class="pie-chart-container">
					<div style="border-right:1px solid #CCC;">
						<div class="pie-overlay one {{logo-class}}"></div>
						<div id="dashboard-graph" class="graph" style="margin:0 auto; height:360px; font-family:'Ubuntu';"></div>
					</div>
				</div>
				<div class="pie-chart-container">
					<div class="graph-segment-container">
					{{#if graph-segmentation}}
						<div class="graph-segment {{graph-segmentation.class}}" data-name="{{graph-segmentation.name}}"></div>
					{{/if}}
					</div>
					<div class="pie-overlay two {{logo-class}}"></div>
					<div id="dashboard-graph2" class="graph" style="margin:0 auto; height:360px; font-family:'Ubuntu';"></div>
				</div>
				{{else}}
				<div id="dashboard-graph" class="graph" style="height:100%; margin-left:-10px;"></div>
				{{/if}}
			</div>
			{{#if big-numbers}}
			<div class="widget-footer event-numbers" style="background-color:#EEEEEE;">
				<div id="big-numbers-container" class="{{big-numbers.class}}">
					{{#each big-numbers.items}}
					<div class="big-numbers selected">
						<div class="inner">
							<div class="select">{{this.title}}</div>
							<div class="color"></div>
							<div class="number">{{getFormattedNumber this.total}}</div>
							<div class="trend" style="background-image:url('/images/dashboard/{{this.trend}}trend.png');"></div>
						</div>
					</div>
					{{/each}}
				</div>
			</div>
			{{/if}}
		</div>
		{{#if bars}}
		<div class="dashboard-summary three">
			{{#each bars}}
			<div class="item">
				<div class="inner">
					<div class="title">{{this.title}}</div>
					{{#if this.data}}
					<div class="bar">
						{{#each this.data}}
							<div class="bar-inner" style="width:{{this.percent}}%;" data-item="{{this.name}}"></div>
						{{/each}}
					</div>
					<div class="number" data-item="{{this.data.0.name}}">{{this.data.0.name}}</div>
					{{else}}
					<div class="no-data" data-localize="common.bar.no-data"></div>
					{{/if}}
				</div>
			</div>
			{{/each}}
		</div>
		{{/if}}
		<table class="d-table sortable" cellpadding="0" cellspacing="0">
			<thead>
			<tr>
				{{#eachOfArray chart-data.columns}}
				<th style="width:25%">{{value}}</th>
				{{/eachOfArray}}
			</tr>
			</thead>
			<tbody>
				{{#if chart-data.rows}}
				{{#each chart-data.rows}}
				<tr>
					{{#eachOfObject this}}
						<td>{{getFormattedNumber value}}</td>
					{{/eachOfObject }}
				</tr>
				{{/each}}
				{{else}}
				<tr>
					<td colspan="{{chart-data.columnCount}}" class="table-no-data" data-localize="common.table.no-data"></td>
				</tr>
				{{/if}}
			</tbody>
		</table>
		{{#if chart-data2}}
		<table class="d-table sortable" cellpadding="0" cellspacing="0">
			<thead>
			<tr>
				{{#eachOfArray chart-data2.columns}}
				<th style="width:25%">{{value}}</th>
				{{/eachOfArray}}
			</tr>
			</thead>
			<tbody>
				{{#if chart-data2.rows}}
				{{#each chart-data2.rows}}
				<tr>
					{{#eachOfObject this}}
						<td>{{getFormattedNumber value}}</td>
					{{/eachOfObject }}
				</tr>
				{{/each}}
				{{else}}
				<tr>
					<td colspan="{{chart-data2.columnCount}}" class="table-no-data" data-localize="common.table.no-data"></td>
				</tr>
				{{/if}}
			</tbody>
		</table>
		{{/if}}
		</div>
	</script>

	<script id="status-box-export" type="text/x-handlebars-template">
	{{#each currentDev}}
	  <div class="row" style="font-size:16px;">
        <div class="col-md-2">
        	<img src="/images/management/router.png" alt="Smiley face" height="120" width="120">          
        </div>
        <div class="col-md-10" >
          <div class="row">
            <div class="col-md-2" style="font-weight:bold;">序列号:</div>
            <div class="col-md-4">{{this.serial_no}}</div>
            <div class="col-md-2" style="font-weight:bold;">型号:</div>
            <div class="col-md-4" >{{this.mode}}</div>
          </div>
        </div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-md-2" style="font-weight:bold;">注册日期:</div>
            <div class="col-md-4">{{this.register_time}}</div>
            <div class="col-md-2" style="font-weight:bold;">在线情况:</div>
            <div class="col-md-4">{{this.online_status}}</div>
          </div>
        </div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-md-2" style="font-weight:bold;">固件版本:</div>
            <div class="col-md-4">{{this.fireware_ver}}</div>
            <div class="col-md-2" style="font-weight:bold;">网络地址:</div>
            <div class="col-md-4">{{this.ip_addr}}</div>
          </div>
        </div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-md-2" style="font-weight:bold;">热点信息:</div>
            <div class="col-md-8">{{this.hotspot_info}}</div>
          </div>
        </div>        
      </div>
      {{/each}}
		
	</script>

	<script id="hotspot-box-export" type="text/x-handlebars-template">
	  {{#each hotspotParams}}	
	  <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-2" style="font-weight:bold;">信道:</div>
            <div class="col-md-4">

              <div class="cly-select" style="width:220px;">
			    <div class="select-inner">
			    	<div class="text-container">
			    		<div class="text" id="channel-add-category" data-localize="manaapplications.category.tip">
			    		{{this.channel}}</div>
			    	</div>
			    	<div class="right combo"></div>
			    </div>
			    <div class="select-items square" style="width:220px;">
			    	<div class="scrollable">
			    		{{> channel-categories}}
			    	</div>
			    </div>
              </div>   	          
  
            </div>
            <div class="col-md-2" style="font-weight:bold;">模式:</div>
            <div class="col-md-4">

              <div class="cly-select" style="width:220px;">
			    <div class="select-inner">
			    	<div class="text-container">
			    		<div class="text" id="mode-add-category" data-localize="manaapplications.category.tip">
			    			{{ this.mode}} 
			    		</div>
			    	</div>
			    	<div class="right combo"></div>
			    </div>
			    <div class="select-items square" style="width:220px;">
			    	<div class="scrollable">
			    		{{> mode-categories  }}
			    	</div>
			    </div>
              </div>   	          
  
            </div> 
          </div>
        </div>  
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-2" id="hotspot-name-label" style="font-weight:bold;">热点名称:</div>
            <div class="col-md-9">
				<input class="username-text" id="hotspot-name-input" style="width:100%;" type="text" value="{{this.hotspot_info}}"/><br/>
            </div>
            <div class="col-md-1" style="font-weight:bold;"></div>
          </div>
        </div>

        <div class="col-md-12">
          <div class="row">
            <div class="col-md-6" ></div>
            <div class="col-md-2"></div>
            <div class="col-md-4">
					<div class="icon-button light" id="config-cancel-btn" style="">
						<div class="icon" style="background-image:url('/images/reports/pdf_icon.png'); width:18px; height:19px;"></div>
						<div class="text" style="">取消</div>
					</div>
					<div class="icon-button light create-report" id="config-apply-btn" style="">
						<div class="icon" style="background-image:url('/images/reports/pdf_icon.png'); width:18px; height:19px;"></div>
						<div class="text">应用</div>						
					</div>

            </div>
          </div>
        </div>
      </div>
      {{/each}}

	</script>

	<script id="remote-op-box-export" type="text/x-handlebars-template"


  <div class="bs-example">
    <div class="row">
      <div class="col-sm-6 col-md-2" style="border: none;">      
        <div class="thumbnail">
          <a href="#"><span class="badge"></span></a>
          <br/>
          <img src="/images/dashboard/reboot-64.png" alt="Generic placeholder thumbnail">
          <div class="caption">
					<div class="icon-button light create-report" id="config-reboot-btn">
						<div class="icon" style=""></div>
						<div class="text">重启系统</div>
					</div>           
					<br/>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-2">
        <div class="thumbnail">
          <a href="#"><span class="badge"></span></a>
          <br/>
          <img src="/images/dashboard/reset-todefault-64.png" alt="Generic placeholder thumbnail">
          <div class="caption">
					<div class="icon-button light create-report" id="config-reset-btn">
						<div class="icon" style=""></div>
						<div class="text">恢复出厂</div>
					</div>           
					<br/>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-2">
        <div class="thumbnail"> 
          <a href="#"><span class="badge badge-error" id="badge_fireware_msg" style=";position:relative;left:65px;background-color:white;">{{fireware_event}}</span></a>

          <img src="/images/dashboard/upgrade-icon-64.png" alt="Generic placeholder thumbnail">
          <div class="caption"> 
					<div class="icon-button light create-report" id="config-fireware-btn">
						<div class="icon" style=""></div>
						<div class="text">升级固件</div>
					</div>           
					<br/>          
          </div>
        </div>
      </div>
    </div>
  </div>

	</script>

	<script id="template-devicemgr-export" type="text/x-handlebars-template">
		<div id="dev-management-bar" class="grid-border" >
			<div id="app-nav-head" class="grid-border">
				<div id="dev-nav-title" data-localize="sidebar.devicemgr.hotspot">{{ hotspot_name }}</div>
				<% if(member['global_admin']) { %>
				<div style="overflow:hidden; position:absolute; top:19px; right:10px;">
					<div class="icon-button dark help-zone- vs" data-help-localize="manage-apps.app-add-button" id="add-dev-button">
						<div class="icon" style="background-image:url('/images/management/wi-fi-18.png'); width:17px; height:18px;"></div>
						<div class="text" data-localize="common.add"></div>
					</div>
				</div>
				<% } %>
			</div>

			<div class="scrollable grid-border" >	
				{{#each devicesItem}}
				<div class="dev-container grid-border" data-key="{{this.serial_no}}" data-id="{{this.serial_no}}">
					<div class="logo1" id="devlogo" style="background-image: url('/images/dashboard/wifi-icon-32.png');">
						<span class="name">{{this.serial_no}}</span>
					</div>					
				</div>
				{{/each}}

			</div>

			<div id="manage-new-app" style="margin-left:187px; " class="active" > 	
				<div class="app-container grid-border" >
					<div class="logo"></div>
					<div class="name" data-localize="management-applications.my-new-app"></div>
				</div>
			</div>
		
		</div>

		<div class="widget" style="margin-left:187px;">
			<div class="widget-header">
				<div class="left">
					<div class="title" data-localize="sidebar.devicemgr.topo"></div>
				</div>
				<div style="float:right; overflow:hidden; margin-top:6px;">
				</div>
			</div>
			<div id="network-map" class="widget-content help-zone-vb" data-help-localize="{{{chart-helper}}}" style="height:495px; width:100%; background-color:#FFF;">
				<div style="position:absolute; top:80px; right:30px; z-index:1;">
					<a id="toggle-map" class="icon-button light"></a>
				</div>
				<div id="geo-chart-outer">
					<div id="geo-chart" style="margin:0 auto; padding:20px;"></div>
				</div>
			</div>	

			<div id=deivcecfg_header class="widget-header ">
			    <div id="devicecfg_tabs" class="widget-content">
			    	<ul>
		        	    <li><a href=#devcfg_tab1 class="tabs-widget-header" data-localize="sidebar.devicemgr.status"></a></li>
		  	       		<li><a href=#devcfg_tab2 class="tabs-widget-header" data-localize="sidebar.devicemgr.hotspot.config"></a></li>
		  	       		<li><a href=#devcfg_tab3 class="tabs-widget-header" data-localize="sidebar.devicemgr.remoteop"></a></li>
		        	</ul>
		        	<div id="devcfg_tab1">{{> status-box }}</div>
		        	<div id="devcfg_tab2">{{> hotspot-box }}</div>
		        	<div id="devcfg_tab3">{{> remote-op-box }}</div>
			    </div>
			</div>
		</div>		
	</script>

	<script id="filter-box-export" type="text/x-handlebars-template">
		<p> filter box </p>
	</script>

	<script id="template-deviceautoconf-export" type="text/x-handlebars-template">
		<div class="widget">
			<div id=deivcecfg_header class="widget-header ">
			    <div id="devicecfg_tabs" class="widget-content">
			    	<ul>
		  	       		<li><a href=#tab2 class="tabs-widget-header" data-localize="sidebar.devicemgr.hotspot.config"></a></li>
		        	    <li><a href=#tab1 class="tabs-widget-header" data-localize="sidebar.devicemgr.filter"></a></li>		  	       		
		        	</ul>
		        	<div id=tab1>{{> hotspot-box }}</div>
		        	<div id=tab2>{{> filter-box }}</div>
			    </div>
			</div>
		</div>	
	</script>

    <div id="IntercomDefaultWidget" style="visibility: visible;"><span></span></div>

	<script language="javascript" type="text/javascript" src="javascripts/jsapi.js"></script> 
<!-- 	<script language="javascript" type="text/javascript" src="https://www.google.com/jsapi"></script>  -->

    <!-- PRODUCTION -->
    <!---
    <script language="javascript" type="text/javascript" src="/javascripts/min/countly.dom.js?<%= countlyVersion %>"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/dom/tablesorter/jquery.tablesorter.min.js?<%= countlyVersion %>"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/min/countly.utils.js?<%= countlyVersion %>"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/min/countly.visualization.js?<%= countlyVersion %>"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/countly/countly.config.js?<%= countlyVersion %>"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/min/countly.lib.js?<%= countlyVersion %>"></script>
    <!-- -->
    <!-- DEVELOPMENT -->
     -->
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jquery/jquery-1.8.3.min.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/utils/underscore-min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/prefixfree.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/moment/moment.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/moment/moment.isocalendar.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/moment/lang-all.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/handlebars.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/backbone-min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/jquery.i18n.properties-min-1.0.9.js"></script>

    <script language="javascript" type="text/javascript" src="/javascripts/utils/jstz.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/store+json2.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/utils/jquery.idle-timer.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jquery.form.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/tipsy/jquery.tipsy.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jquery.noisy.min.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/tablesorter/jquery.tablesorter.min.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jquery.sticky.headers.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jqueryui/jquery-ui-1.8.22.custom.min.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jqueryui/jquery-ui-i18n.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/slimScroll.min.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/dom/jquery.easing.1.3.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/jquery.peity.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/flot/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/flot/jquery.flot.tickrotor.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/flot/jquery.flot.pie.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/flot/jquery.flot.resize.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/flot/jquery.flot.stack.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/gauge.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/d3/d3.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/d3/d3.layout.min.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/visualization/rickshaw/rickshaw.min.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.common.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.config.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.event.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.session.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.city.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.location.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.user.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.devmgr.js"></script>	
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.device.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.device.detail.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.app.version.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.carrier.js"></script>
	<script language="javascript" type="text/javascript" src="/javascripts/countly/countly.template.js"></script>

    <% if (member.in_user_id && member.in_user_hash) { %>
    <!---->
    <script id="IntercomSettingsScriptTag">
        var intercomSettings = {
            app_id: 'pt60eheo',
            widget: {
                activator: '#IntercomDefaultWidget'
            },
            email: "<%= member.email %>",
            name: "<%= member.full_name %>",
            user_id: "<%= member.in_user_id %>",
            user_hash: "<%= member.in_user_hash %>"
        };
    </script>
    <script>
        (function() {
            var i=function(){i.c(arguments)};i.q=[];
            i.c=function(args){i.q.push(args)};window.Intercom=i;
            function async_load() {
                var s = document.createElement('script');
                s.type = 'text/javascript'; s.async = true;
                s.src = 'https://api.intercom.io/api/js/library.js';
                var x = document.getElementsByTagName('script')[0];
                x.parentNode.insertBefore(s, x);
            }
            if (window.attachEvent) {
                window.attachEvent('onload', async_load);
            } else {
                window.addEventListener('load', async_load, false);
            }
        })();
    </script>
    <!---->
    <% } %>
</body>
</html>
